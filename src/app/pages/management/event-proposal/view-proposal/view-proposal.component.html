<nb-card>
    <nb-card-header>
        <h5>Event Proposal Details</h5>
    </nb-card-header>
    <nb-card-body>
        <ng-container *ngIf="eventProposal">
            <button class="float-right" nbButton *ngIf=" isEditable()" size="small" (click)="handleOnClick()">Edit</button>
            <div class="row">
                <div class="col-md-6">
                    <h6>{{ eventProposal?.title }}</h6>
                    <div [innerHTML]="eventProposal.content"></div>
                </div>
                <div class="col-md-6">
                    <div>Status: {{ eventProposal.status }}</div>
                    <div>Creator: {{ eventProposal.creator.name }}</div>
                    <div>Created At: {{ eventProposal.createAt | date }}</div>
                    <div>Modify At: {{ eventProposal.modifyAt | date }}</div>
                    
                    <!-- Add other details as needed -->
                </div>
            </div>
        
            <div class="row">
                <!-- Display file links with icons -->
                <div class="col">
                    <h6>Attachments:</h6>
                    <div class="file-container">
                        <div *ngFor="let fileUrl of getFileUrls(eventProposal.fileUrls)" class="d-flex">
                            <a [href]="fileUrl.url" target="_blank" class="file-link mr-2">
                                <nb-icon [icon]="getFileIcon(fileUrl.extension)" class="file-icon"></nb-icon>
                                <div class="file-name">{{ fileUrl.name }}</div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <nb-card-body>
                <h6>Feedback</h6>
                <div *ngFor="let feedback of getFeedbackContent(mockFeedback)">
                    <!-- Customize the feedback display as needed -->
                    <div>
                        <strong>{{ feedback.time | date:'medium' }}</strong>
                        <div>{{ feedback.content }}</div>
                        <div *ngIf="feedback.isResolved; else pending">
                            <nb-icon icon="checkmark-circle-outline" status="success"></nb-icon>
                            Resolved
                        </div>
                        <ng-template #pending>
                            <nb-icon icon="clock-outline" status="info"></nb-icon>
                            Pending
                        </ng-template>
                    </div>
                </div>
            </nb-card-body>
            <!-- Feedback Input Section -->
            <nb-card-body>
                <div class="form-group">
                    <label for="feedbackContent" class="font-weight-bold" style="">Give your feedback</label>
                    <quill-editor [(ngModel)]="editorContent" style="width: 100%;"></quill-editor>
                </div>
            
                <button nbButton size="small" (click)="submitFeedback()">Submit Feedback</button>
            </nb-card-body>
        </ng-container>

        <div class="mt-3">
            <button nbButton size="small" (click)="goBack()">Go Back</button>
        </div>
    </nb-card-body>
</nb-card>